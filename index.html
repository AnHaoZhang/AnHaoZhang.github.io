<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  
  <title>Hexo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta property="og:type" content="website">
<meta property="og:title" content="Hexo">
<meta property="og:url" content="https://anhaozhang.github.io/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="kelin">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="Hexo" type="application/atom+xml">
  
  
    <link rel="shortcut icon" href="/favicon.png">
  
  
    
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/typeface-source-code-pro@0.0.71/index.min.css">

  
  
<link rel="stylesheet" href="/css/style.css">

  
    
<link rel="stylesheet" href="/fancybox/jquery.fancybox.min.css">

  
  
<meta name="generator" content="Hexo 6.3.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Hexo</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"><span class="fa fa-bars"></span></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
        
          <a class="nav-icon" href="/atom.xml" title="RSS Feed"><span class="fa fa-rss"></span></a>
        
        <a class="nav-icon nav-search-btn" title="Search"><span class="fa fa-search"></span></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://AnHaoZhang.github.io"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main">
  
    <article id="post-“麒麟V10与鲲鹏920系统下docker安装mysql、redis、kkfileview”" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2023/06/08/%E2%80%9C%E9%BA%92%E9%BA%9FV10%E4%B8%8E%E9%B2%B2%E9%B9%8F920%E7%B3%BB%E7%BB%9F%E4%B8%8Bdocker%E5%AE%89%E8%A3%85mysql%E3%80%81redis%E3%80%81kkfileview%E2%80%9D/" class="article-date">
  <time class="dt-published" datetime="2023-06-08T15:41:31.000Z" itemprop="datePublished">2023-06-08</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2023/06/08/%E2%80%9C%E9%BA%92%E9%BA%9FV10%E4%B8%8E%E9%B2%B2%E9%B9%8F920%E7%B3%BB%E7%BB%9F%E4%B8%8Bdocker%E5%AE%89%E8%A3%85mysql%E3%80%81redis%E3%80%81kkfileview%E2%80%9D/">麒麟V10与鲲鹏920系统下docker安装mysql8、redis、kkfileview</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h2 id="1-前言"><a href="#1-前言" class="headerlink" title="1.前言"></a>1.前言</h2><p>本次安装是基于操作系统为ky10版本、cpu为采用aarch64架构的Kunpeng-920芯片；采用docker部署安装，安装系统有mysql8版本、redis3.2.10版、kkfileview三种服务，其中mysql与kkfileview均需要满足aarch64架构，安装过程如有问题建议先看第4部分注意与小结，若未能解决在建议百度。</p>
<h2 id="2-安装环境"><a href="#2-安装环境" class="headerlink" title="2.安装环境"></a>2.安装环境</h2><p>使用 uname -a ：显示系统名、节点名称、操作系统的发行版号、内核版本等等。</p>
<p><strong>lscpu</strong>此命令用来显示cpu的相关信息，lscpu从sysfs和&#x2F;proc&#x2F;cpuinfo收集cpu体系结构信息，命令的输出比较易读，命令输出的信息包含cpu数量，线程，核数，套接字和Nom-Uniform Memeor Access(NUMA)，缓存等 。不是所有的列都支持所有的架构，如果指定了不支持的列，那么lscpu将打印列，但不显示数据。</p>
<figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# uname -a</span><br><span class="line">Linux localhost.localdomain <span class="number">4</span>.<span class="number">19</span>.<span class="number">90</span>-<span class="number">23</span>.<span class="number">8</span>.v2101.ky10.aarch64 #<span class="number">1</span> SMP Mon May <span class="number">17</span> <span class="number">17</span>:<span class="number">07</span>:<span class="number">38</span> CST <span class="number">2021</span> aarch64 aarch64 aarch64 GNU/Linux</span><br><span class="line">[root@localhost ~]# lscpu</span><br><span class="line">架构：                           aarch64</span><br><span class="line">CPU 运行模式：                   <span class="number">64</span>-bit</span><br><span class="line">字节序：                         Little Endian</span><br><span class="line"><span class="function">CPU:                             96</span></span><br><span class="line"><span class="function">在线 <span class="title">CPU</span> 列表：                  0-95</span></span><br><span class="line"><span class="function">每个核的线程数：                 1</span></span><br><span class="line"><span class="function">每个座的核数：                   48</span></span><br><span class="line"><span class="function">座：                             2</span></span><br><span class="line"><span class="function"><span class="title">NUMA</span> 节点：                      4</span></span><br><span class="line"><span class="function">厂商 <span class="title">ID</span>：                        <span class="title">HiSilicon</span></span></span><br><span class="line"><span class="function">型号：                           0</span></span><br><span class="line"><span class="function">型号名称：                       <span class="title">Kunpeng</span>-920</span></span><br><span class="line"><span class="function">步进：                           0<span class="title">x1</span></span></span><br><span class="line"><span class="function"><span class="title">CPU</span> 最大 <span class="title">MHz</span>：                   2600.0000</span></span><br><span class="line"><span class="function"><span class="title">CPU</span> 最小 <span class="title">MHz</span>：                   200.0000</span></span><br><span class="line"><span class="function"><span class="title">BogoMIPS</span>：                       200.00</span></span><br><span class="line"><span class="function"><span class="title">L1d</span> 缓存：                       6 <span class="title">MiB</span></span></span><br><span class="line"><span class="function"><span class="title">L1i</span> 缓存：                       6 <span class="title">MiB</span></span></span><br><span class="line"><span class="function"><span class="title">L2</span> 缓存：                        48 <span class="title">MiB</span></span></span><br><span class="line"><span class="function"><span class="title">L3</span> 缓存：                        96 <span class="title">MiB</span></span></span><br><span class="line"><span class="function"><span class="title">NUMA</span> 节点0 <span class="title">CPU</span>：                 0-23</span></span><br><span class="line"><span class="function"><span class="title">NUMA</span> 节点1 <span class="title">CPU</span>：                 24-47</span></span><br><span class="line"><span class="function"><span class="title">NUMA</span> 节点2 <span class="title">CPU</span>：                 48-71</span></span><br><span class="line"><span class="function"><span class="title">NUMA</span> 节点3 <span class="title">CPU</span>：                 72-95</span></span><br><span class="line"><span class="function"><span class="title">Vulnerability</span> <span class="title">Itlb</span> <span class="title">multihit</span>:     <span class="title">Not</span> <span class="title">affected</span></span></span><br><span class="line"><span class="function"><span class="title">Vulnerability</span> <span class="title">L1tf</span>:              <span class="title">Not</span> <span class="title">affected</span></span></span><br><span class="line"><span class="function"><span class="title">Vulnerability</span> <span class="title">Mds</span>:               <span class="title">Not</span> <span class="title">affected</span></span></span><br><span class="line"><span class="function"><span class="title">Vulnerability</span> <span class="title">Meltdown</span>:          <span class="title">Not</span> <span class="title">affected</span></span></span><br><span class="line"><span class="function"><span class="title">Vulnerability</span> <span class="title">Spec</span> <span class="title">store</span> <span class="title">bypass</span>: <span class="title">Not</span> <span class="title">affected</span></span></span><br><span class="line"><span class="function"><span class="title">Vulnerability</span> <span class="title">Spectre</span> <span class="title">v1</span>:        <span class="title">Mitigation</span>; <span class="title">__user</span> <span class="title">pointer</span> <span class="title">sanitization</span></span></span><br><span class="line"><span class="function"><span class="title">Vulnerability</span> <span class="title">Spectre</span> <span class="title">v2</span>:        <span class="title">Not</span> <span class="title">affected</span></span></span><br><span class="line"><span class="function"><span class="title">Vulnerability</span> <span class="title">Srbds</span>:             <span class="title">Not</span> <span class="title">affected</span></span></span><br><span class="line"><span class="function"><span class="title">Vulnerability</span> <span class="title">Tsx</span> <span class="title">async</span> <span class="title">abort</span>:   <span class="title">Not</span> <span class="title">affected</span></span></span><br><span class="line"><span class="function">标记：                           <span class="title">fp</span> <span class="title">asimd</span> <span class="title">evtstrm</span> <span class="title">aes</span> <span class="title">pmull</span> <span class="title">sha1</span> <span class="title">sha2</span> <span class="title">crc32</span> <span class="title">atomics</span> <span class="title">fphp</span> <span class="title">asimdhp</span> <span class="title">cpuid</span> <span class="title">asimdrdm</span> <span class="title">jscvt</span> <span class="title">fcma</span> <span class="title">dcpop</span> <span class="title">asimddp</span> <span class="title">a</span></span></span><br><span class="line"><span class="function">                                 <span class="title">simdfhm</span></span></span><br></pre></td></tr></table></figure>

<p><img src="/../imgs/$%7Bfiilename%7D/lscpu.png"></p>
<h3 id="2-1确认安装条件"><a href="#2-1确认安装条件" class="headerlink" title="2.1确认安装条件"></a>2.1确认安装条件</h3><p>出来以上命令看操作系统与内核版本外，还有如下命令；本次安装的主要环境及要求是以下三类。</p>
<p>64位的操作系统</p>
<figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">uname -p</span><br><span class="line">aarch64</span><br></pre></td></tr></table></figure>

<p>Linux 内核版本 ≥ 3.10</p>
<figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">uname -r</span><br><span class="line"><span class="number">4</span>.<span class="number">19</span>.<span class="number">90</span>-<span class="number">17</span>.ky10.aarch64</span><br></pre></td></tr></table></figure>
<p>iptables 版本 ≥ 1.4</p>
<figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">iptables --version</span><br><span class="line">iptables v1.<span class="number">8</span>.<span class="number">1</span> (legacy)</span><br></pre></td></tr></table></figure>

<h2 id="3-安装"><a href="#3-安装" class="headerlink" title="3.安装"></a>3.安装</h2><p>完成以上步骤后进入安装，根据系统环境选择对应版本。演示为有<strong>网络环境</strong></p>
<h3 id="3-1安装Docker-ce"><a href="#3-1安装Docker-ce" class="headerlink" title="3.1安装Docker-ce"></a>3.1安装Docker-ce</h3><ol>
<li>选择并下载 docker-ce 二进制包文件</li>
</ol>
<p>官网下载地址：<a target="_blank" rel="noopener" href="https://download.docker.com/linux/static/stable/aarch64/">Index of linux&#x2F;static&#x2F;stable&#x2F;aarch64&#x2F; (docker.com)</a></p>
<p>阿里云下载地址：<a target="_blank" rel="noopener" href="https://mirrors.aliyun.com/docker-ce/linux/static/stable/aarch64/">docker-ce-linux-static-stable-aarch64安装包下载_开源镜像站-阿里云 (aliyun.com)</a></p>
<p>wget <a target="_blank" rel="noopener" href="https://download.docker.com/linux/static/stable/aarch64/docker-20.10.7.tgz">https://download.docker.com/linux/static/stable/aarch64/docker-20.10.7.tgz</a></p>
<ol start="2">
<li>解压下载好的压缩包</li>
</ol>
<p>  tar -zxvf docker-20.10.7.tgz</p>
<ol start="3">
<li>移动解压出来的二进制文件到 &#x2F;usr&#x2F;bin 目录中</li>
</ol>
<p>mv docker&#x2F;* &#x2F;usr&#x2F;bin&#x2F;</p>
<p><img src="/../imgs/$%7Bfiilename%7D/image-20230609112707669.png" alt="image-20230609112707669"></p>
<ol start="4">
<li>测试启动</li>
</ol>
<p>dockerd</p>
<p>出现<img src="/../imgs/$%7Bfiilename%7D/image-20230609111707466.png" alt="image-20230609111707466"></p>
<ol start="5">
<li>添加 systemd<br>添加 docker 的 systemd 服务脚本至 &#x2F;usr&#x2F;lib&#x2F;systemd&#x2F;system&#x2F;</li>
</ol>
<p>脚本参考自 <a target="_blank" rel="noopener" href="https://github.com/docker/docker-ce">https://github.com/docker/docker-ce</a></p>
<p>vim &#x2F;usr&#x2F;lib&#x2F;systemd&#x2F;system&#x2F;docker.service</p>
<figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line">[Unit]</span><br><span class="line">Description=Docker Application Container Engine</span><br><span class="line">Documentation=https://docs.docker.com</span><br><span class="line">After=network-online.target docker.socket firewalld.service containerd.service</span><br><span class="line">Wants=network-online.target</span><br><span class="line">Requires=docker.socket containerd.service</span><br><span class="line"></span><br><span class="line">[Service]</span><br><span class="line"><span class="built_in">Type</span>=notify</span><br><span class="line"># the default is <span class="keyword">not</span> to use systemd <span class="keyword">for</span> cgroups because the delegate issues still</span><br><span class="line"># exists and systemd currently does <span class="keyword">not</span> support the cgroup feature <span class="built_in">set</span> required</span><br><span class="line"># <span class="keyword">for</span> containers run by docker</span><br><span class="line"></span><br><span class="line">ExecStart=/usr/bin/dockerd -H fd:// --containerd=/run/containerd/containerd.sock</span><br><span class="line">ExecReload=/bin/kill -s HUP $MAINPID</span><br><span class="line">TimeoutStartSec=<span class="number">0</span></span><br><span class="line">RestartSec=<span class="number">2</span></span><br><span class="line">Restart=always</span><br><span class="line"></span><br><span class="line"># Note that StartLimit* options were moved from &quot;Service&quot; to &quot;Unit&quot; <span class="keyword">in</span> systemd <span class="number">229</span>.</span><br><span class="line"># Both the old, and new location are accepted by systemd <span class="number">229</span> and up, so using the old location</span><br><span class="line"># to make them work <span class="keyword">for</span> either version of systemd.</span><br><span class="line"></span><br><span class="line">StartLimitBurst=<span class="number">3</span></span><br><span class="line"></span><br><span class="line"># Note that StartLimitInterval was renamed to StartLimitIntervalSec <span class="keyword">in</span> systemd <span class="number">230</span>.</span><br><span class="line"># Both the old, and new name are accepted by systemd <span class="number">230</span> and up, so using the old name to make</span><br><span class="line"># this option work <span class="keyword">for</span> either version of systemd.</span><br><span class="line"></span><br><span class="line">StartLimitInterval=<span class="number">60</span>s</span><br><span class="line"></span><br><span class="line"># Having non-zero Limit*s causes performance problems due to accounting overhead</span><br><span class="line"># <span class="keyword">in</span> the kernel. We recommend using cgroups to <span class="keyword">do</span> container-local accounting.</span><br><span class="line"></span><br><span class="line">LimitNOFILE=infinity</span><br><span class="line">LimitNPROC=infinity</span><br><span class="line">LimitCORE=infinity</span><br><span class="line"></span><br><span class="line"># Comment TasksMax <span class="keyword">if</span> your systemd version does <span class="keyword">not</span> support it.</span><br><span class="line"># Only systemd <span class="number">226</span> and above support this option.</span><br><span class="line"></span><br><span class="line">TasksMax=infinity</span><br><span class="line"></span><br><span class="line"># <span class="built_in">set</span> delegate yes so that systemd does <span class="keyword">not</span> reset the cgroups of docker containers</span><br><span class="line"></span><br><span class="line">Delegate=yes</span><br><span class="line"></span><br><span class="line"># kill only the docker process, <span class="keyword">not</span> all processes <span class="keyword">in</span> the cgroup</span><br><span class="line"></span><br><span class="line">KillMode=process</span><br><span class="line">OOMScoreAdjust=-<span class="number">500</span></span><br><span class="line"></span><br><span class="line">[Install]</span><br><span class="line">WantedBy=multi-user.target</span><br></pre></td></tr></table></figure>

<p>6.根据 docker.service 中 Unit.After 需求添加 docker.socket 脚本至 &#x2F;usr&#x2F;lib&#x2F;systemd&#x2F;system&#x2F;</p>
<p>脚本参考自 <a target="_blank" rel="noopener" href="https://github.com/docker/docker-ce">https://github.com/docker/docker-ce</a></p>
<p>vim  &#x2F;usr&#x2F;lib&#x2F;systemd&#x2F;system&#x2F;docker.socket</p>
<figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">[Unit]</span><br><span class="line">Description=Docker Socket <span class="keyword">for</span> the API</span><br><span class="line"></span><br><span class="line">[Socket]</span><br><span class="line"></span><br><span class="line"># <span class="keyword">If</span> /var/run is <span class="keyword">not</span> implemented as a symlink to /run, you may need to</span><br><span class="line"># specify ListenStream=/var/run/docker.sock instead.</span><br><span class="line"></span><br><span class="line">ListenStream=/run/docker.sock</span><br><span class="line">SocketMode=<span class="number">0660</span></span><br><span class="line">SocketUser=root</span><br><span class="line">SocketGroup=docker</span><br><span class="line"></span><br><span class="line">[Install]</span><br><span class="line">WantedBy=sockets.target</span><br></pre></td></tr></table></figure>

<p>注意：如果缺少该文件，启动 docker 时会报如下错误：</p>
<figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># systemctl <span class="built_in">start</span> docker</span><br><span class="line">Failed to <span class="built_in">start</span> docker.service: Unit docker.socket <span class="keyword">not</span> found.</span><br></pre></td></tr></table></figure>

<p>7.根据 docker.service 中 Unit.After 需求添加 containerd.service 脚本至 &#x2F;usr&#x2F;lib&#x2F;systemd&#x2F;system&#x2F;</p>
<p>脚本参考自 <a target="_blank" rel="noopener" href="https://github.com/containerd/containerd">https://github.com/containerd/containerd</a></p>
<p>vim  &#x2F;usr&#x2F;lib&#x2F;systemd&#x2F;system&#x2F;containerd.service</p>
<figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"># Copyright The containerd Authors.</span><br><span class="line">#</span><br><span class="line"># Licensed under the Apache License, Version <span class="number">2</span>.<span class="number">0</span> (the &quot;License&quot;);</span><br><span class="line"># you may <span class="keyword">not</span> use this file except <span class="keyword">in</span> compliance with the License.</span><br><span class="line"># You may obtain a <span class="built_in">copy</span> of the License <span class="built_in">at</span></span><br><span class="line">#</span><br><span class="line">#     http://www.apache.org/licenses/LICENSE-<span class="number">2</span>.<span class="number">0</span></span><br><span class="line">#</span><br><span class="line"># Unless required by applicable law or agreed to <span class="keyword">in</span> writing, software</span><br><span class="line"># distributed under the License is distributed on an &quot;AS IS&quot; BASIS,</span><br><span class="line"># WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</span><br><span class="line"># See the License <span class="keyword">for</span> the specific language governing permissions and</span><br><span class="line"># limitations under the License.</span><br><span class="line"> </span><br><span class="line">[Unit]</span><br><span class="line">Description=containerd container runtime</span><br><span class="line">Documentation=https://containerd.io</span><br><span class="line">After=network.target local-<span class="built_in">fs</span>.target</span><br><span class="line"> </span><br><span class="line">[Service]</span><br><span class="line">ExecStartPre=-/sbin/modprobe overlay</span><br><span class="line">ExecStart=/usr/bin/containerd</span><br><span class="line"> </span><br><span class="line"><span class="built_in">Type</span>=notify</span><br><span class="line">Delegate=yes</span><br><span class="line">KillMode=process</span><br><span class="line">Restart=always</span><br><span class="line">RestartSec=<span class="number">5</span></span><br><span class="line"># Having non-zero Limit*s causes performance problems due to accounting overhead</span><br><span class="line"># <span class="keyword">in</span> the kernel. We recommend using cgroups to <span class="keyword">do</span> container-local accounting.</span><br><span class="line">LimitNPROC=infinity</span><br><span class="line">LimitCORE=infinity</span><br><span class="line">LimitNOFILE=infinity</span><br><span class="line"># Comment TasksMax <span class="keyword">if</span> your systemd version does <span class="keyword">not</span> supports it.</span><br><span class="line"># Only systemd <span class="number">226</span> and above support this version.</span><br><span class="line">TasksMax=infinity</span><br><span class="line">OOMScoreAdjust=-<span class="number">999</span></span><br><span class="line"> </span><br><span class="line">[Install]</span><br><span class="line">WantedBy=multi-user.target</span><br></pre></td></tr></table></figure>

<p>注意：如果缺少该文件，启动 docker 时会报如下错误：</p>
<figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># systemctl restart docker</span><br><span class="line">Failed to restart docker.service: Unit containerd.service <span class="keyword">not</span> found.</span><br></pre></td></tr></table></figure>

<p>8.重载 systemd 配置文件</p>
<figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl daemon-reload</span><br></pre></td></tr></table></figure>

<p>9.创建 docker 组</p>
<figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">groupadd docker</span><br></pre></td></tr></table></figure>

<p>如不创建 docker 组在通过 systemctl 启动时会报错如下</p>
<figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Dependency failed <span class="keyword">for</span> Docker Application Container Engine.</span><br><span class="line">Job docker.service/<span class="built_in">start</span> failed with result &#x27;dependency&#x27;.</span><br></pre></td></tr></table></figure>

<p>10.启动 docker 服务</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">systemctl start docker</span><br><span class="line">systemctl enable docker</span><br></pre></td></tr></table></figure>


<p>11.修改 docker 配置文件并查看安装好的 docker 基本信息</p>
<p>在 &#x2F;etc&#x2F;docker&#x2F;daemon.json 中添加如下内容：</p>
<p>vim  &#x2F;etc&#x2F;docker&#x2F;daemon.json</p>
<figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    &quot;graph&quot;: &quot;/data/docker&quot;,</span><br><span class="line">    &quot;storage-driver&quot;: &quot;overlay2&quot;,</span><br><span class="line">    &quot;exec-opts&quot;: [</span><br><span class="line">        &quot;native.cgroupdriver=systemd&quot;</span><br><span class="line">    ],</span><br><span class="line">    &quot;registry-mirrors&quot;: [</span><br><span class="line">        &quot;https://t5t8q6wn.mirror.aliyuncs.com&quot;</span><br><span class="line">    ],</span><br><span class="line">    &quot;bip&quot;: &quot;<span class="number">172</span>.<span class="number">8</span>.<span class="number">94</span>.<span class="number">1</span>/<span class="number">24</span>&quot;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<p>重启 docker 服务</p>
<figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl restart docker</span><br></pre></td></tr></table></figure>

<p>查看 docker info</p>
<p>出现如下信息，即为成功</p>
<figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">Client:</span></span><br><span class="line"><span class="function"> <span class="title">Context</span>:    <span class="title">default</span></span></span><br><span class="line"><span class="function"> <span class="title">Debug</span> <span class="title">Mode</span>: <span class="title">false</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="title">Server</span>:</span></span><br><span class="line"><span class="function"> <span class="title">Containers</span>: 3</span></span><br><span class="line"><span class="function">  <span class="title">Running</span>: 3</span></span><br><span class="line"><span class="function">  <span class="title">Paused</span>: 0</span></span><br><span class="line"><span class="function">  <span class="title">Stopped</span>: 0</span></span><br><span class="line"><span class="function"> <span class="title">Images</span>: 3</span></span><br><span class="line"><span class="function"> <span class="title">Server</span> <span class="title">Version</span>: 20.10.7</span></span><br><span class="line"><span class="function"> <span class="title">Storage</span> <span class="title">Driver</span>: <span class="title">overlay2</span></span></span><br><span class="line"><span class="function">  <span class="title">Backing</span> <span class="title">Filesystem</span>: <span class="title">xfs</span></span></span><br><span class="line"><span class="function">  <span class="title">Supports</span> <span class="title">d_type</span>: <span class="title">true</span></span></span><br><span class="line"><span class="function">  <span class="title">Native</span> <span class="title">Overlay</span> <span class="title">Diff</span>: <span class="title">true</span></span></span><br><span class="line"><span class="function">  <span class="title">userxattr</span>: <span class="title">false</span></span></span><br><span class="line"><span class="function"> <span class="title">Logging</span> <span class="title">Driver</span>: <span class="title">json</span>-<span class="title">file</span></span></span><br><span class="line"><span class="function"> <span class="title">Cgroup</span> <span class="title">Driver</span>: <span class="title">systemd</span></span></span><br><span class="line"><span class="function"> <span class="title">Cgroup</span> <span class="title">Version</span>: 1</span></span><br><span class="line"><span class="function">....</span></span><br></pre></td></tr></table></figure>

<p>出现</p>
<figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# docker info</span><br><span class="line"><span class="function">Client:</span></span><br><span class="line"><span class="function"> <span class="title">Context</span>:    <span class="title">default</span></span></span><br><span class="line"><span class="function"> <span class="title">Debug</span> <span class="title">Mode</span>: <span class="title">false</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="title">Server</span>:</span></span><br><span class="line"><span class="function"><span class="title">ERROR</span>: <span class="title">Cannot</span> <span class="title">connect</span> <span class="title">to</span> <span class="title">the</span> <span class="title">Docker</span> <span class="title">daemon</span> <span class="title">at</span> <span class="title">unix</span>:///<span class="title">var</span>/<span class="title">run</span>/<span class="title">docker.sock</span>. <span class="title">Is</span> <span class="title">the</span> <span class="title">docker</span> <span class="title">daemon</span> <span class="title">running</span>?</span></span><br><span class="line"><span class="function"><span class="title">errors</span> <span class="title">pretty</span> <span class="title">printing</span> <span class="title">info</span></span></span><br></pre></td></tr></table></figure>

<p>则为失败，失败请仔细检查以上步骤。</p>
<h3 id="3-2安装mysql"><a href="#3-2安装mysql" class="headerlink" title="3.2安装mysql"></a>3.2安装mysql</h3><h4 id="3-2-1-拉取镜像"><a href="#3-2-1-拉取镜像" class="headerlink" title="3.2.1 拉取镜像"></a>3.2.1 拉取镜像</h4><p>docker pull –platform&#x3D;arm64 mysql&#x2F;mysql-server</p>
<h4 id="3-2-2-run镜像，创建容器"><a href="#3-2-2-run镜像，创建容器" class="headerlink" title="3.2.2 run镜像，创建容器"></a>3.2.2 run镜像，创建容器</h4><p>docker run -it –name 容器名 mysql-server</p>
<h4 id="3-2-3-获取临时密码"><a href="#3-2-3-获取临时密码" class="headerlink" title="3.2.3 获取临时密码"></a>3.2.3 获取临时密码</h4><p>docker logs 容器名 2&gt;&amp;1 | grep GENERATED</p>
<h4 id="3-2-4-进入容器"><a href="#3-2-4-进入容器" class="headerlink" title="3.2.4 进入容器"></a>3.2.4 进入容器</h4><p>进入容器 <code>docker exec -it 容器名</code></p>
<h4 id="3-2-5-进入SQL，修改密码远程权限"><a href="#3-2-5-进入SQL，修改密码远程权限" class="headerlink" title="3.2.5 进入SQL，修改密码远程权限"></a>3.2.5 进入SQL，修改密码远程权限</h4><ol>
<li>进入SQL mysql -uroot -p</li>
</ol>
<p>然后输入3.2.3获取的临时密码</p>
<ol start="2">
<li>使用 mysql库 ，修改密码：</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">use mysql</span><br><span class="line">8.0.11以下：</span><br><span class="line">update user set authentication_string=password(&quot;你的密码&quot;) where user=&quot;root&quot;; ，</span><br><span class="line">8.0.11以上：</span><br><span class="line">update user set plugin=&quot;mysql_native_password&quot;; </span><br><span class="line">alter user &#x27;root&#x27;@&#x27;localhost&#x27; identified with mysql_native_password by &#x27;你的密码&#x27;;</span><br></pre></td></tr></table></figure>

<p>其他命令修改密码</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">1.   ALTER USER &#x27;root&#x27;@&#x27;%&#x27; IDENTIFIED BY &#x27;mysql1024.&#x27; PASSWORD EXPIRE NEVER;</span><br><span class="line">2.   ALTER USER &#x27;root&#x27;@&#x27;localhost&#x27; IDENTIFIED BY &#x27;mysql1024.&#x27;;</span><br></pre></td></tr></table></figure>

<p>3.查看用户表 ：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SELECT `Host`,`User` FROM user;</span><br></pre></td></tr></table></figure>

<p>4.更新用户表(远程连接需要允许host) ：</p>
<figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">UPDATE user <span class="built_in">SET</span> `Host` = &#x27;%&#x27; WHERE `User` = &#x27;root&#x27; LIMIT <span class="number">1</span>;</span><br></pre></td></tr></table></figure>

<p>5.强制刷新权限 ：</p>
<figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">flush privileges;</span><br></pre></td></tr></table></figure>

<p>完成以上步骤即可远程连接数据库了，上边关键的一句是  </p>
<p>UPDATE user SET <code>Host</code> &#x3D; ‘%’ WHERE <code>User</code> &#x3D; ‘root’ LIMIT 1;</p>
<p>其中%的意思是允许所有的ip远程访问，如果需要指定具体的某个ip就写上具体的ip即可。</p>
<p>连接工具即可成功</p>
<p><img src="/../imgs/$%7Bfiilename%7D/image-20230609130250441.png" alt="image-20230609130250441"></p>
<h3 id="3-3安装kkFileView"><a href="#3-3安装kkFileView" class="headerlink" title="3.3安装kkFileView"></a>3.3安装kkFileView</h3><p>安装kkFileView比较简单，最主要就是找到适配的镜像</p>
<h4 id="3-3-1-拉取镜像"><a href="#3-3-1-拉取镜像" class="headerlink" title="3.3.1 拉取镜像"></a>3.3.1 拉取镜像</h4><figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker pull registry.cn-hangzhou.aliyuncs.com/xmod/kkfileview:. --platform linux/arm64</span><br></pre></td></tr></table></figure>

<h4 id="3-3-2-运行镜像"><a href="#3-3-2-运行镜像" class="headerlink" title="3.3.2 运行镜像"></a>3.3.2 运行镜像</h4><figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run -it -p <span class="number">8012</span>:<span class="number">8012</span> registry.cn-hangzhou.aliyuncs.com/xmod/kkfileview</span><br></pre></td></tr></table></figure>

<p>浏览器访问容器8012端口（<a target="_blank" rel="noopener" href="http://xxx.xxx.xxx.xxx:8012/">http://xxx.xxx.xxx.xxx:8012</a> ）即可看到项目演示用首页</p>
<p><img src="/../imgs/$%7Bfiilename%7D/image-20230609133309075.png" alt="image-20230609133309075"></p>
<h4 id="3-3-3实现预览"><a href="#3-3-3实现预览" class="headerlink" title="3.3.3实现预览"></a>3.3.3实现预览</h4><p><a target="_blank" rel="noopener" href="http://xxx.xxx.xxx.xxx:8012/onlinePreview?url=%E2%80%99+encodeURIComponent(%E6%96%87%E4%BB%B6%E8%B7%AF%E5%BE%84Url)">http://xxx.xxx.xxx.xxx:8012/onlinePreview?url=’+encodeURIComponent(文件路径Url)</a>;</p>
<h3 id="3-4-安装Redis"><a href="#3-4-安装Redis" class="headerlink" title="3.4 安装Redis"></a>3.4 安装Redis</h3><h4 id="3-4-1拉取redis镜像"><a href="#3-4-1拉取redis镜像" class="headerlink" title="3.4.1拉取redis镜像"></a>3.4.1拉取redis镜像</h4><p>因为我这边指定的是3.2.10版本</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker pull redis:3.2.10</span><br></pre></td></tr></table></figure>

<p>查看镜像</p>
<p>docker images</p>
<h4 id="3-4-2-Redis相关配置"><a href="#3-4-2-Redis相关配置" class="headerlink" title="3.4.2 Redis相关配置"></a>3.4.2 Redis相关配置</h4><p>创建挂载目录以及获取redis.conf配置文件</p>
<figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span>. 创建挂载目录</span><br><span class="line"><span class="built_in">mkdir</span> -p /docker/redis</span><br><span class="line"><span class="built_in">mkdir</span> -p /docker/redis/data</span><br><span class="line"></span><br><span class="line"><span class="number">2</span>. 进入挂载目录</span><br><span class="line"><span class="built_in">cd</span> /docker/redis</span><br><span class="line"></span><br><span class="line"><span class="number">3</span>. 下载 redis.conf 文件</span><br><span class="line">wget http://download.redis.io/redis-stable/redis.conf</span><br><span class="line"></span><br><span class="line"><span class="number">4</span>. 更改 redis.conf 文件的权限</span><br><span class="line">chmod <span class="number">777</span> redis.conf</span><br></pre></td></tr></table></figure>

<p>修改默认的redis.conf配置文件</p>
<figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">vi redis.conf</span><br><span class="line"># 这行要注释掉，解除本地连接限制</span><br><span class="line">bind <span class="number">127</span>.<span class="number">0</span>.<span class="number">0</span>.<span class="number">1</span>    --&gt; 需要注释掉</span><br><span class="line"># 保护模式是一层安全保护，以避免在互联网上打开的 Redis 实例被访问和利用。</span><br><span class="line"># 当保护模式打开并且默认用户没有密码时，服务器仅允许在本机的回环连接，其他机器无法连接。</span><br><span class="line"># 默认为 yes，在生产环境下一般设置为 no，这样可以避免客户端连接时出现超时或连接不上的情况。</span><br><span class="line">protected-<span class="built_in">mode</span> no</span><br><span class="line"># 默认 no 为不守护进程模式，docker 部署不需要改为 yes，docker run -d 本身就是后台启动，不然会冲突</span><br><span class="line">daemonize no</span><br><span class="line"># 设置密码</span><br><span class="line">requirepass <span class="number">123456</span></span><br><span class="line"># 持久化</span><br><span class="line">appendonly yes</span><br></pre></td></tr></table></figure>

<h4 id="3-4-3-运行redis镜像，创建容器"><a href="#3-4-3-运行redis镜像，创建容器" class="headerlink" title="3.4.3 运行redis镜像，创建容器"></a>3.4.3 运行redis镜像，创建容器</h4><figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">docker run --name redis -p <span class="number">6379</span>:<span class="number">6379</span> \</span><br><span class="line">-v /docker/redis/redis.conf:/etc/redis/redis.conf \</span><br><span class="line">-v /docker/redis/data:/data \</span><br><span class="line">-d redis:<span class="number">3</span>.<span class="number">2</span>.<span class="number">10</span> \</span><br><span class="line">redis-server /etc/redis/redis.conf \</span><br><span class="line">--appendonly yes</span><br></pre></td></tr></table></figure>

<p>要是配置文件忘记设置密码了，也可以加上 –requirepass 你的密码，来设置</p>
<h4 id="3-4-4-查看运行状态"><a href="#3-4-4-查看运行状态" class="headerlink" title="3.4.4 查看运行状态"></a>3.4.4 查看运行状态</h4><figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">docker ps</span><br><span class="line">或者</span><br><span class="line">docker ps -a</span><br></pre></td></tr></table></figure>

<p><img src="/../imgs/$%7Bfiilename%7D/image-20230609144655182.png" alt="image-20230609144655182"></p>
<p>当ports有对应端口号时则显示成功</p>
<p>使用RESP等工具也可以连接</p>
<p>若出现问题，可以查看容器运行日志</p>
<figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker logs redis</span><br></pre></td></tr></table></figure>

<h2 id="4-注意事项与小结"><a href="#4-注意事项与小结" class="headerlink" title="4.注意事项与小结"></a>4.注意事项与小结</h2><h3 id="4-1-mysql"><a href="#4-1-mysql" class="headerlink" title="4.1 mysql"></a>4.1 mysql</h3><p>本次安装下载的mysql是默认版本，是最新的。aarch64的mysql包官方只提供8的，5版本的要自己去找，我上次安装过一次，但出差没带那个u盘回去了补上。</p>
<h3 id="4-2-kkfileview"><a href="#4-2-kkfileview" class="headerlink" title="4.2 kkfileview"></a>4.2 kkfileview</h3><p>查到的两个镜像都下不下来，不知道咋回事，有知道的大佬可以科普一下。</p>
<p><img src="/../imgs/$%7Bfiilename%7D/image-20230609150457884.png" alt="image-20230609150457884"></p>
<p>最后再这个链接里找到的<a target="_blank" rel="noopener" href="https://gitee.com/kekingcn/file-online-preview/issues/I41WML">求一个libreoffice arm64架构的 rpm包 求大佬出手相救 · Issue #I41WML · keking&#x2F;kkFileView - Gitee.com</a></p>
<p>再次感谢大佬！！！</p>
<h3 id="4-3-Redis"><a href="#4-3-Redis" class="headerlink" title="4.3 Redis"></a>4.3 Redis</h3><p>在第二步相关文件的配置时有个一小坑，redis的配置文件要和版本相适应</p>
<p>我是在这个链接里下的我对应版本的安装包，从里面单独拿出的conf文件修改之后上传到对应目录下</p>
<p><a target="_blank" rel="noopener" href="https://download.redis.io/releases/?_gl=1*y4yz77*_ga*MTE1NzkwODk1NC4xNjgwNjczMjky*_ga_8BKGRQKRPV*MTY4NjIwMDI2MS40LjEuMTY4NjIwMDI4MS40MC4wLjA.">Index of &#x2F;releases&#x2F; (redis.io)</a></p>
<p>以上程序都开启了守护式容器，若是自己需启动jar包则不能只使用</p>
<p>java -jar   xxx.jar </p>
<p>要替换为 nohup java -jar xxx.jar &amp;</p>
<h2 id="5-参考与致谢"><a href="#5-参考与致谢" class="headerlink" title="5.参考与致谢"></a>5.参考与致谢</h2><p>安装Docker-ce主要参考取自<a target="_blank" rel="noopener" href="https://blog.csdn.net/zhangxiangweide/article/details/129439141">(90条消息) 华为鲲鹏+银河麒麟v10 安装 docker-ce_zhangxiangweide的博客-CSDN博客</a></p>
<p>安装Redis主要参考自<a target="_blank" rel="noopener" href="https://www.cnblogs.com/wanghuizhao/p/17124637.html">使用Docker安装并启动Redis - 夏夜星空晚风 - 博客园 (cnblogs.com)</a></p>
<p>与<a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_45821811/article/details/116211724">(90条消息) 史上最详细Docker安装Redis （含每一步的图解）实战_docker redis_宁在春的博客-CSDN博客</a></p>
<p>安装KKFileView主要xmod大佬提供的镜像<a target="_blank" rel="noopener" href="https://gitee.com/kekingcn/file-online-preview/issues/I41WML">求一个libreoffice arm64架构的 rpm包 求大佬出手相救 · Issue #I41WML · keking&#x2F;kkFileView - Gitee.com</a></p>
<p>因为工作原因经常接触到一些国产化的服务器，所以我总结一篇笔记。部分步骤一致，故而直接取自以上三位博主，在这里表示感谢与点赞，但如有侵权与不便请联系我修改或删除。mysql5版本的我出差结束后也会尽快补上。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://anhaozhang.github.io/2023/06/08/%E2%80%9C%E9%BA%92%E9%BA%9FV10%E4%B8%8E%E9%B2%B2%E9%B9%8F920%E7%B3%BB%E7%BB%9F%E4%B8%8Bdocker%E5%AE%89%E8%A3%85mysql%E3%80%81redis%E3%80%81kkfileview%E2%80%9D/" data-id="cliob89xz0001v4zd22zqgqlo" data-title="麒麟V10与鲲鹏920系统下docker安装mysql8、redis、kkfileview" class="article-share-link"><span class="fa fa-share">Share</span></a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-hello-world" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2023/06/04/hello-world/" class="article-date">
  <time class="dt-published" datetime="2023-06-03T16:39:20.003Z" itemprop="datePublished">2023-06-04</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2023/06/04/hello-world/">Hello World</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>Welcome to <a target="_blank" rel="noopener" href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a target="_blank" rel="noopener" href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a target="_blank" rel="noopener" href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a target="_blank" rel="noopener" href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p>
<h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure>

<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/writing.html">Writing</a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure>

<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/server.html">Server</a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure>

<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/generating.html">Generating</a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure>

<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://anhaozhang.github.io/2023/06/04/hello-world/" data-id="cliob89xq0000v4zd2nwm852e" data-title="Hello World" class="article-share-link"><span class="fa fa-share">Share</span></a>
      
      
      
    </footer>
  </div>
  
</article>



  


</section>
        
          <aside id="sidebar">
  
    

  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/06/">June 2023</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2023/06/08/%E2%80%9C%E9%BA%92%E9%BA%9FV10%E4%B8%8E%E9%B2%B2%E9%B9%8F920%E7%B3%BB%E7%BB%9F%E4%B8%8Bdocker%E5%AE%89%E8%A3%85mysql%E3%80%81redis%E3%80%81kkfileview%E2%80%9D/">麒麟V10与鲲鹏920系统下docker安装mysql8、redis、kkfileview</a>
          </li>
        
          <li>
            <a href="/2023/06/04/hello-world/">Hello World</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      
      &copy; 2023 kelin<br>
      Powered by <a href="https://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    


<script src="/js/jquery-3.6.4.min.js"></script>



  
<script src="/fancybox/jquery.fancybox.min.js"></script>




<script src="/js/script.js"></script>





  </div>
</body>
</html>